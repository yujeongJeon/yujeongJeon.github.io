## 1. 함수 추출하기

- 목적과 구현에 따른 함수

### 절차

    1. 함수의 목적을 드러내는 이름을 붙임
    2. 추출할 코드를 새 함수에 복사
    3. 참조하는 지역변수는 인수로 전달
        - 새 함수에서만 사용되는 변수는 지역변수로
        - 지역변수의 값을 변경할 경우 새 함수의 결과로 전달
    4. 새로 만든 함수를 호출하는 문으로 수정

### 개요 코드

```javascript
// :( old
const getLoanInfo = async (encryptParam) => {
    const {validationCode} = await checkValidation({encryptParam})
    const validCode = VALID_CODE[validationCode]

    // 유효하지 않은 validCode 처리
    // NF관리번호 오류
    if (validCode === 'error') {
        goMain()
    }
    // 대출진행정보 만료
    else if (validCode === 'expired') {
        showAlert(SME_ALERT_CODE.APPROVAL_EXPIRED)
    }
    // 명의 불일치
    else if (validCode === 'different') {
        showAlert(SME_ALERT_CODE.NOT_MATCH_LOGIN_INFO)
    }
}

// :) good
// 6.5 함수 선언 바꾸기
const nfValidation = async (encryptParam) => {
    const {validationCode} = await checkValidation({encryptParam})
    handleInvalid(VALID_CODE[validationCode])
}

const handleInvalid = (validCode) => {
    if (validCode === 'error') {
        goMain()
    }
    else if (validCode === 'expired') {
        showAlert(SME_ALERT_CODE.APPROVAL_EXPIRED)
    }
    else if (validCode === 'different') {
        showAlert(SME_ALERT_CODE.NOT_MATCH_LOGIN_INFO)
    }
}
```